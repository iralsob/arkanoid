<html>
  <head>
    <meta charset="utf-8">
    <script>
      var ball, ballTop, ballBottom, topInterval, bottomInterval;
      function loadPage() {
        var width = document.body.clientWidth;
        var height = document.body.clientHeight;
        var ballDiam = 40;
        var playerWidth = 290;
        var playerHeight = 30;
        var step = 60;

        var player = document.getElementById('player');
        player.style.left = player.offsetLeft;
        player.style.width = playerWidth+'px';
        player.style.height = playerHeight+'px';

        document.getElementById('ballTop').style.width = ballDiam +'px';
        document.getElementById('ballBottom').style.width = ballDiam +'px';
        document.getElementById('ballTop').style.height = ballDiam +'px';
        document.getElementById('ballBottom').style.height = ballDiam +'px';

        ballTop = new Ball(0, 0, 1, 1, document.getElementById('ballTop'));
        ballBottom = new Ball(1, height-ballDiam, 1, -1, document.getElementById('ballBottom'));
        topInterval = setInterval( function() { ballTop.move.call(ballTop) } , 10);
        bottomInterval =  setInterval( function() { ballBottom.move.call(ballBottom) } , 10);

        function Ball(left, top, directionLeft, directionTop, html) {
          this.left = left;
          this.top = top;
          this.directionLeft = directionLeft;
          this.directionTop = directionTop;
          this.move = function(){
            if(this.left == 0) {
              this.directionLeft = 1;
            }
            if(this.left == width-ballDiam) {
              this.directionLeft = -1;
            }
            if(this.top == 0) {
              this.directionTop = 1;
            }
            if(this.top == height) {
              alert('Вы проиграли!');
              startPosition();
            }
            if(this.top == (height - playerHeight - ballDiam)) {
              if (this.left >= player.offsetLeft-ballDiam/2 && this.left <= player.offsetLeft+playerWidth+ballDiam/2 ) {
                this.directionTop = -1;
              }
            }
            this.left += this.directionLeft;
            this.top += this.directionTop;
            this.show();
          };
          this.show = function(){
            html.style.left = this.left +'px';
            html.style.top = this.top +'px';
          };
        }

        function startPosition() {
          ballTop.left = 0;
          ballTop.top = 0;
          ballTop.directionLeft = 1;
          ballTop.directionTop = 1;
          ballBottom.left = 1;
          ballBottom.top = height-ballDiam;
          ballBottom.directionLeft = 1;
          ballBottom.directionTop = -1;
        }

        document.onkeydown = function (e) {
          e = e || window.event;
          var currentPosition = player.offsetLeft;
          if (currentPosition >= step && e.keyCode === 37) {
                player.style.left = currentPosition - step +'px';
          } else if (e.keyCode === 37) {
            player.style.left = 0 +'px';
          }
          if (currentPosition <= width - player.offsetWidth - step && e.keyCode === 39) {
                player.style.left = currentPosition + step +'px';
          } else if (e.keyCode === 39) {
            player.style.left = width - player.offsetWidth +'px';
          }
          
          return false;
        }
      }
    </script>
    <style>
      body {
        margin:0;
      }
      .ball {
        border-radius: 50%;
        background: grey;
        display: inline-block;
        position: absolute;
        border: 2px solid #000;
      }
      #player {
        background: black;
        display: inline-block;
        position: absolute;
        bottom: 0;
        left: 50%;
      }
    </style>
  </head>
  <body onload="loadPage()">
    <div id="ballTop" class="ball"></div>
    <div id="ballBottom" class="ball"></div>
    <div id="player"></div>
  </body>
</html>